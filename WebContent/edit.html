<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
        <title>
            Surprizer
        </title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div id="header">
            <h2 class="logo main">
                SURPRIZER
            </h2>
            <div id="page">
                Edit "Birthday List"
            </div>
            <div id="user">
                <span id="username">Paul Weidinger</span> <span id="actions"><a href="mylists.html">My lists</a> &nbsp; 1 list &nbsp; <a href="">Logout</a></span>
            </div>
        </div>
        
        <div id="content">
            
            <div id="editList">
                <p>
                    Add, delete, edit, or drag items around to perfect and keep your list up to date.
                </p>
            </div><button id="newItem">+ Add New Item</button>
            
            <div id="itemAdder" class="list" style="display:none;">
                <div class="clear"></div>
                <h2 class="title">
                    <input type="text" id="newTitle" placeholder="Title" style="width: 75%; padding:.5em;"/>
                </h2><span class="date"><input type="text" id="price" placeholder="Optional: Price"/></span> 
                <input type="text" id="link" placeholder="Optional: Link" />
                <input type="text" id="imglink" placeholder="Optional: Image Link" />
                <textarea name="" cols="60" rows="5" id="newDesc" placeholder="Optional description"></textarea>
                
                <p class="listActions">
                    <button id="add">Add</button>&nbsp;<button id="cancel">Cancel</button>
                </p>
            </div>
            
            <div id="sortable">
                
                <div class="list">
                    <img src="images/box.jpeg" alt="Image">
                    <div class="clear"></div>
                    <h2 class="title">
                        Electric Guitar
                    </h2><span class="date">Up to $500</span> <a href="" class="site"></a>
                    <p class="desc">
                        Any electric guitar is fine.
                    </p>
                    <p class="listActions">
                        <a href="">Edit item</a>&nbsp;<a class="delete" href="">Delete item</a>
                    </p>
                </div>
                
                <div class="list">
                    <img src="http://blogs-images.forbes.com/roberthof/files/2012/09/iphone5-ignore.jpeg" alt="iPhone 5">
                    <div class="clear"></div>
                    <h2 class="title">
                        iPhone 5
                    </h2><span class="date">$399.99</span> <a href="http://www.apple.com/iphone" class="site">apple.com</a>
                    <p class="desc"></p>
                    <p class="listActions">
                        <a href="">Edit item</a>&nbsp;<a class="delete" href="">Delete item</a>
                    </p>
                </div>
                
            </div>
            
        </div>
        <div id="footer"></div>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript">
        </script>
        <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js" type="text/javascript">
        </script>
        <script type="text/javascript">
            $(document).ready(function(){
                $("#sortable").sortable();
                
                $("#newItem").click(function() {
                    if (!$("#itemAdder").is(":visible"))
                    $("#itemAdder").slideToggle();
                })
                
                $("#cancel").click(function() {
                    if ($("#itemAdder").is(":visible"))
                    $("#itemAdder").slideToggle();
                })
                
                $("#add").click(function() {
                    var el = $('#itemAdder');
                    if ($("#newTitle").val() !== ""){
                        var item = $(document.createElement("div")).addClass("list");
                        var ilink = $("#imglink").val() || "images/box.jpeg";
                        item.append('<img src="'+ilink+'" alt="Image">');
                        item.append('<div class="clear"></div>');
                        item.append('<h2 class="title">'+$("#newTitle").val()+'</h2>');
                        item.append('<span class="date">'+$('#price').val()+'</span>');
                        item.append('<a class="site">'+$('#link').val().substring(0,20)+'</a>');
                        item.append('<p class="desc">'+$('#newDesc').val()+'</p>');
                        var la = $(document.createElement("p")).addClass("listActions");
                        la.append('<a href="">Edit item</a>');
                        la.append('<a href="">Delete item</a>');
                        item.append(la);
                        $("#sortable").append(item);
                        
                        $.each($("#itemAdder").find('*'), function(index, value) { if (value.tagName === "INPUT") $(value).val("");})
                        $("#itemAdder").slideToggle();
                    }
                })
                
                $(".delete").click(function(e) {
                    e.preventDefault();
                    $(this).parent().parent().hide();
                })
                
                $(".edit").click(function(e) {
                    e.preventDefault();
                    
                });
            });
            
        </script>
    </body>
</html>
